(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{8045:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/decoupled",function(){return a(4920)}])},238:function(e,t,a){"use strict";var r=a(5893),s=a(4430),n=a.n(s);t.Z=()=>(0,r.jsxs)("div",{className:n().footerContainer,children:[(0,r.jsxs)("div",{className:n().leftFrame,children:[(0,r.jsxs)("div",{className:n().firstLine,children:[(0,r.jsx)("div",{className:n().title1,children:" WeAudit "}),(0,r.jsx)("div",{className:n().firstLineItem,children:" About us "}),(0,r.jsx)("div",{className:n().firstLineItem,children:" Projects "}),(0,r.jsx)("div",{className:n().firstLineItem,children:" FAQ "})]}),(0,r.jsx)("div",{className:n().spacing1}),(0,r.jsxs)("div",{className:n().secondLine,children:[(0,r.jsx)("div",{className:n().secondLineItem1,children:"Terms & Conditions"}),(0,r.jsx)("div",{className:n().secondLineItem2,children:"Privacy Policy"})]})]}),(0,r.jsx)("div",{className:n().spacing2}),(0,r.jsxs)("div",{className:n().rightFrame,children:[(0,r.jsx)("div",{className:n().signup,children:"Sign up for a weekly summary!"}),(0,r.jsxs)("form",{className:n().emailContainer,children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"email",className:n().enterEmail,placeholder:"Your email here",required:!0})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:n().emailButton,children:"Submit"})})]})]})]})},9079:function(e,t,a){"use strict";var r=a(5893),s=a(3904),n=a.n(s);t.Z=()=>(0,r.jsxs)("nav",{className:n().navBar,children:[(0,r.jsxs)("div",{className:n().leftTabs,children:[(0,r.jsx)("a",{href:"https://forum.weaudit.org/",className:n().navWeaudit,children:"WeAudit"}),(0,r.jsx)("a",{href:"/",className:n().navItem,children:"Ouroboros"})]}),(0,r.jsxs)("div",{className:n().rightTabs,children:[(0,r.jsx)("a",{href:"https://forum.weaudit.org/about",className:n().navItem,children:"About"}),(0,r.jsx)("a",{href:"https://taiga.weaudit.org/",className:n().navItem,children:"TAIGA"}),(0,r.jsx)("a",{href:"",className:n().navOuro,children:"Ouroboros"}),(0,r.jsx)("a",{href:"https://forum.weaudit.org/c/stable-diffusion/46",className:n().navItem,children:"Discussions"}),(0,r.jsx)("a",{href:"",className:n().navIcon,children:(0,r.jsx)("img",{src:"/ico-search.svg",alt:"search-icon"})})]})]})},4920:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var r=a(5893),s=a(9554),n=a.n(s),i=a(7294),o=a(3865),l=a.n(o),c=function(e){let{onGenerateClick:t,isGenerating:a,ensureImagesSelected:s}=e,[n,o]=(0,i.useState)(""),[c,d]=(0,i.useState)(!0),m=e=>{o(e)};return(0,r.jsxs)("div",{className:l().searchContainer,children:[(0,r.jsx)("label",{className:l().generateLabel,children:"Generate"}),(0,r.jsxs)("div",{className:l().descriptionAndsdContainer,children:[(0,r.jsx)("div",{className:l().description,children:"Describe your idea and observe the resulting AI generated images!"}),(0,r.jsx)("a",{href:"https://stability.ai/news/stablediffusion2-1-release7-dec-2022",className:l().sdButton,children:(0,r.jsx)("span",{className:l().sdButtonText,children:"Stable Diffusion v2.1"})})]}),(0,r.jsx)("div",{className:l().generateContainer,children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(n),d(!1),s()},style:{display:"flex",width:"100%"},children:[(0,r.jsx)("input",{type:"text",className:l().searchBar,placeholder:"Write prompt here",value:n,onChange:e=>o(e.target.value),disabled:a}),(0,r.jsx)("button",{type:"submit",className:l().searchButton,disabled:a,children:(0,r.jsx)("span",{className:l().searchButtonText,children:"Generate"})})]})}),c&&(0,r.jsxs)("div",{className:l().examplePromptsContainer,children:[(0,r.jsx)("div",{className:l().promptSuggestionsText,children:"Not sure how to write prompts? Try these:"}),(0,r.jsx)("div",{className:l().examplePrompts,children:["A cinematic photo of a doctor","A family having a picnic in the park"].map(e=>(0,r.jsx)("button",{type:"button",className:l().examplePromptButton,onClick:()=>m(e),disabled:a,children:e},e))})]})]})},d=a(9079),m=a(8892),g=a.n(m),u=e=>{let{isGenerating:t,isDoneGenerating:a,isPostDone:s}=e;return t||a?t&&!a?(0,r.jsx)("div",{className:g().stateContainer,children:(0,r.jsxs)("div",{className:g().stateContainerChild,children:[(0,r.jsx)("img",{src:"/generate-svg/generateblack-analyseorange.svg",alt:"currently generating state"}),(0,r.jsxs)("div",{className:g().stateLabels,children:[(0,r.jsx)("div",{className:g().item1,children:"Generate"}),(0,r.jsx)("div",{className:g().item2,children:"Analyze"}),(0,r.jsx)("div",{className:g().item3,children:"Post"})]})]})}):a&&s?(0,r.jsx)("div",{className:g().stateContainer,children:(0,r.jsxs)("div",{className:g().stateContainerChild,children:[(0,r.jsx)("img",{src:"/generate-svg/generateblack-analyseblack-postblack.svg",alt:"finished generating"}),(0,r.jsxs)("div",{className:g().stateLabels,children:[(0,r.jsx)("div",{className:g().item1,children:"Generate"}),(0,r.jsx)("div",{className:g().item2,children:"Analyze"}),(0,r.jsx)("div",{className:g().item3,children:"Post"})]})]})}):(0,r.jsx)("div",{className:g().stateContainer,children:(0,r.jsxs)("div",{className:g().stateContainerChild,children:[(0,r.jsx)("img",{src:"/generate-svg/generateblack-analyseorange.svg",alt:"currently generating state"}),(0,r.jsxs)("div",{className:g().stateLabels,children:[(0,r.jsx)("div",{className:g().item1,children:"Generate"}),(0,r.jsx)("div",{className:g().item2,children:"Analyze"}),(0,r.jsx)("div",{className:g().item3,children:"Post"})]})]})}):(0,r.jsx)("div",{className:g().stateContainer,children:(0,r.jsxs)("div",{className:g().stateContainerChild,children:[(0,r.jsx)("img",{src:"/generate-svg/generateorange.svg",alt:"start generating state"}),(0,r.jsxs)("div",{className:g().stateLabels,children:[(0,r.jsx)("div",{className:g().item1,children:"Generate"}),(0,r.jsx)("div",{className:g().item2,children:"Analyze"}),(0,r.jsx)("div",{className:g().item3,children:"Post"})]})]})})};a(238);var h=a(3358),f=a.n(h),_=a(7066),x=a(608),p=a(4032),b=a.n(p),j=e=>{let{data:t}=e,a=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!t||!t.nodes||!t.edges)return;let e=x.Ys(a.current);e.selectAll("*").remove();let r=e.node().getBoundingClientRect().width,s=e.node().getBoundingClientRect().height,n=x.A4v(t.nodes).force("link",x.Fsl(t.edges).id(e=>e.id).distance(150)).force("charge",x.q5i().strength(-500)).force("center",x.wqt(r/2,s/2)).force("collide",x.Hh().radius(e=>12*Math.sqrt(e.size)+5)),i=e.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(t.edges).join("line").attr("stroke-width",e=>3*Math.sqrt(e.size)),o=e.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(t.nodes).join("circle").attr("r",e=>15*Math.sqrt(e.size)).attr("fill",e=>x.Ym7("object"==e.ntype?180:90,.5,"object"==e.ntype?.5:.5-.5*e.bias)).call(x.ohM().on("start",function(e){e.active||n.alphaTarget(.3).restart(),e.subject.fx=e.subject.x,e.subject.fy=e.subject.y}).on("drag",function(e){e.subject.fx=e.x,e.subject.fy=e.y}).on("end",function(e){e.active||n.alphaTarget(0),e.subject.fx=null,e.subject.fy=null}));o.append("title").text(e=>e.id);let l=e.append("g").attr("font-family","sans-serif").attr("font-size",12).selectAll("text").data(t.nodes).join("text").attr("x",e=>e.x).attr("y",e=>e.y).attr("dy","0.35em").attr("text-anchor","middle").style("pointer-events","none").text(e=>e.id).style("opacity",e=>"object"==e.ntype?1:0);o.on("mouseover",function(t,a){if(x.Ys(this).transition().duration(200).attr("r",20*Math.sqrt(a.size)),l.filter(e=>e==a).transition().duration(200).style("opacity",1),"attribute"!=a.ntype)return;let r=e.append("g").attr("class","tooltip");console.log(r);let s=Object.entries(a.values),n=x.BYU().range([0,50]).domain([0,x.Fp7(s,e=>{let[t,a]=e;return a})]);x.tiA().range([0,25*s.length]).padding(.1),r.append("rect").attr("x",t.offsetX+10).attr("y",t.offsetY+10).attr("width",170).attr("height",25*s.length+40).attr("fill","white").attr("stroke","#ccc");let i=r.selectAll(".bar").data(s).enter().append("g").attr("transform",(e,a)=>"translate(".concat(t.offsetX+30,", ").concat(t.offsetY+30+25*a,")"));i.append("rect").attr("class","bar").attr("width",e=>n(e[1])).attr("height",20).attr("fill",x.Ym7("object"==a.ntype?180:90,.5,.5)),i.append("text").attr("class","bar-label").attr("x",e=>n(e[1])+5).attr("y",10).attr("dy","0.35em").text(e=>{let[t,a]=e;return"".concat(t,": ").concat(a)})}).on("mouseout",function(){x.Ys(this).transition().duration(200).attr("r",e=>15*Math.sqrt(e.size)),l.filter(e=>e===this.__data__&&"object"!=e.ntype).transition().duration(200).style("opacity",0),e.select(".tooltip").remove()}),n.on("tick",()=>{i.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),o.attr("cx",e=>e.x).attr("cy",e=>e.y),l.attr("x",e=>e.x).attr("y",e=>e.y)});let c=x.sPX().scaleExtent([.5,10]).on("zoom",t=>{e.selectAll("g").attr("transform",t.transform)});e.call(c)},[t]),(0,r.jsx)("svg",{ref:a,className:b().graphSvg})},v=e=>{let{containerStyle:t}=e;return(0,r.jsxs)("div",{style:t,className:"jsx-b6b776a7874195cd processing-indicator",children:[(0,r.jsx)("div",{className:"jsx-b6b776a7874195cd spinner"}),(0,r.jsx)("p",{className:"jsx-b6b776a7874195cd",children:"Processing..."}),(0,r.jsx)(n(),{id:"b6b776a7874195cd",children:".processing-indicator.jsx-b6b776a7874195cd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:rgba(255,255,255,.8);z-index:9999;width:100%;height:100%}.spinner.jsx-b6b776a7874195cd{border:4px solid#f3f3f3;border-top:4px solid#3498db;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:30px;height:30px;-webkit-animation:spin 2s linear infinite;-moz-animation:spin 2s linear infinite;-o-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})},y=()=>{let[e,t]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[h,x]=(0,i.useState)(""),[p,b]=(0,i.useState)([]),[y,N]=(0,i.useState)({age:{},gender:{},skinTone:{},faceDetectedCount:0,faceNotDetectedCount:0}),[S,C]=(0,i.useState)("images"),[k,w]=(0,i.useState)(""),[B,z]=(0,i.useState)([]),[G,P]=(0,i.useState)({}),[I,T]=(0,i.useState)(!1),L=async function(a){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e||""===a.trim()){console.debug("Either generation in progress or user input is empty.");return}t(!0),s(!1),l(!1),g(!1),x("");let r=a.toLowerCase().includes("doctor")?"doctors":"picnic",n="doctors"==r?"2024-08-14T03:20:49.750Z":"2024-08-14T02:52:09.289Z",i=[];for(let e=0;e<20;e++)i.push(n+"_"+String(e));try{for(let e of i){let t="".concat("/temp_images","/").concat(r,"/").concat(e,".png"),a=await _.Z.get(t,{responseType:"arraybuffer"}),s=function(e){let t="",a=new Uint8Array(e),r=a.byteLength;for(let e=0;e<r;e++)t+=String.fromCharCode(a[e]);return window.btoa(t)}(a.data);b(t=>[...t,{id:e,data:s}]),l(!0)}if(!I){s(!0);return}let e=[];for(let t of i){let a="/old_json/".concat(r,"/").concat(t,".json"),s=await _.Z.get(a);e.push(s.data)}let t=[];for(let a of e)try{let e=a;e=JSON.parse(JSON.stringify(e).toLowerCase()),t.push(function(e){let{nodes:t,edges:a}=e,r={};return t.forEach(e=>{r[e.id]=1}),a.forEach(e=>{r[e.source]||(t.push({id:e.source,attributes:{}}),r[e.source]=1),r[e.target]||t.push({id:e.target,attributes:{}})}),t.forEach(e=>{e.attributes&&Object.keys(e.attributes).forEach(t=>{"object"==typeof e.attributes[t]&&(e.attributes={...e.attributes,...e.attributes[t]},delete e.attributes[t])})}),{nodes:t,edges:a}}(e))}catch(e){console.error(e)}let a=function(e){function t(e,t){for(let a of Object.keys(t))void 0===e[a]?(e[a]={},e[a][t[a]]=1):void 0===e[a][t[a]]?e[a][t[a]]=1:e[a][t[a]]+=1;return e}function a(e,t){return void 0===e[t]?e[t]=1:e[t]+=1,e}let r=[],s=[],n={},i={};for(let o of e){for(let e of o.nodes)if(void 0===n[e.id]){n[e.id]=r.length;let a=t({},e.attributes);r.push({...e,size:1,attributes:a})}else r[n[e.id]].size+=1,r[n[e.id]].attributes=t(r[n[e.id]].attributes,e.attributes);for(let e of o.edges){let{source:t,target:r,type:n}=e,o=String(t)+"_"+String(r);if(void 0===i[o]){i[o]=s.length;let t=a({},n);s.push({...e,size:1,type:t})}else s[i[o]].size+=1,s[i[o]].type=a(s[i[o]].type,n)}}for(let e of(console.log(r,s),r))e.ntype="object";for(let e of s)e.etype="relationship";let o=[];for(let e of s){if(!e.type)continue;let t=Object.keys(e.type);o.push({...e,type:t.join(",")})}s=o;let l=[];for(let e of r){let t=e.attributes;for(let a of Object.keys(t)){let r=0;for(let e in t[a])r+=t[a][e];let n=e=>{if(!e)return 0;let t=Object.keys(e);if(t.length<=1)return 0;let a=[],r=0;for(let t in e)a.push(e[t]),r+=e[t];let s=1/t.length,n=0;for(let e of a){let t=e/r;n+=(t-s)*(t-s)}return n/s},i={id:String(e.id)+"_"+String(a),ntype:"attribute",values:t[a],size:r,bias:n(t[a])};l.push(i),s.push({source:e.id,target:i.id,etype:"attribute",size:1})}}return{nodes:r=[...r,...l],edges:s}}(t);console.log(a),P(a),g(!0),s(!0)}catch(e){throw console.error("Error generating images:",e),e}};return(0,r.jsxs)("div",{className:"jsx-327f24a876a55916",children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)("button",{onClick:T,className:"jsx-327f24a876a55916",children:" Use Scene Graph"}),(0,r.jsx)("h1",{className:"jsx-327f24a876a55916 "+(f().mainTitle||""),children:"Ouroboros"}),(0,r.jsx)(u,{isGenerating:e,isDoneGenerating:a}),(0,r.jsx)(c,{onGenerateClick:L,isGenerating:e,ensureImagesSelected:()=>{C("images")}}),h&&(0,r.jsx)("p",{className:"jsx-327f24a876a55916",children:h}),e&&(0,r.jsxs)("div",{className:"jsx-327f24a876a55916 "+(f().analyzeView||""),children:[I&&(0,r.jsxs)("div",{className:"jsx-327f24a876a55916 "+(f().sceneGraph||""),children:[!m&&(0,r.jsx)(v,{}),(0,r.jsx)(j,{data:G})]}),(0,r.jsxs)("div",{className:"jsx-327f24a876a55916 "+(f().imageView||""),children:[!o&&(0,r.jsx)(v,{}),(0,r.jsx)("div",{className:"jsx-327f24a876a55916 "+(f().imageContainer||""),children:p.map((e,t)=>(0,r.jsx)("div",{className:"jsx-327f24a876a55916 "+(f().imageItem||""),children:(0,r.jsx)("img",{src:"data:image/png;base64,".concat(e.data),alt:"Image ".concat(e.id),className:"jsx-327f24a876a55916"})},e.id))})]})]}),(0,r.jsx)(n(),{id:"327f24a876a55916",children:"html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}"})]})}},4430:function(e){e.exports={footerContainer:"Footer_footerContainer__p7jil",leftFrame:"Footer_leftFrame__PEwHx",firstLine:"Footer_firstLine__JgsHF",title1:"Footer_title1__inmiE",firstLineItem:"Footer_firstLineItem__Je76z",spacing1:"Footer_spacing1__0Ejh4",secondLine:"Footer_secondLine__M5G3F",secondLineItem1:"Footer_secondLineItem1__pXKfz",secondLineItem2:"Footer_secondLineItem2__iRN1o",rightFrame:"Footer_rightFrame__oaPs2",signup:"Footer_signup__jBEho",emailContainer:"Footer_emailContainer__PSBWr",enterEmail:"Footer_enterEmail__tlIJl",emailButton:"Footer_emailButton__xSu17",spacing2:"Footer_spacing2___z05_"}},3358:function(e){e.exports={mainTitle:"GeneratePage_mainTitle__4e_07",trendingContainer:"GeneratePage_trendingContainer__j9sV_",trendingTitle:"GeneratePage_trendingTitle__4vO4L",trendingPosts:"GeneratePage_trendingPosts__VnbHF",trendingImageWrapper:"GeneratePage_trendingImageWrapper__Hi5na",trendingImage:"GeneratePage_trendingImage__8EWdq",loadingContainer:"GeneratePage_loadingContainer__FKgvF",loadingText:"GeneratePage_loadingText__vxiz8",loadingTextItem:"GeneratePage_loadingTextItem__x34bS",loadingSnake:"GeneratePage_loadingSnake__xdd0H","rotate-animation":"GeneratePage_rotate-animation__v567Z",analyzeView:"GeneratePage_analyzeView__O6rf3",sceneGraph:"GeneratePage_sceneGraph__mIjip",imageView:"GeneratePage_imageView__cSqEW",imageContainer:"GeneratePage_imageContainer__gNDDQ",imageItem:"GeneratePage_imageItem__vIU8L"}},8892:function(e){e.exports={stateContainer:"GenerateState_stateContainer__6EM_Y",stateContainerChild:"GenerateState_stateContainerChild__XvmQT",label:"GenerateState_label__OZafI","hidden-status":"GenerateState_hidden-status__irjUX",stateLabels:"GenerateState_stateLabels__ZRSc9",item1:"GenerateState_item1__VZ4g2",item2:"GenerateState_item2__loJY0",item3:"GenerateState_item3__slek6"}},3904:function(e){e.exports={navBar:"Header_navBar__CDX0j",leftTabs:"Header_leftTabs__mn_eb",rightTabs:"Header_rightTabs__lIRfR",navItem:"Header_navItem__d8hEO",navWeaudit:"Header_navWeaudit__JUtp6",navOuro:"Header_navOuro__jSSlX",navIcon:"Header_navIcon__39tWX"}},4032:function(e){e.exports={graphSvg:"SceneGraph_graphSvg__kthdl"}},3865:function(e){e.exports={searchContainer:"SearchBar_searchContainer__weHmZ",generateLabel:"SearchBar_generateLabel__7Vv_h",descriptionAndsdContainer:"SearchBar_descriptionAndsdContainer__d8wkX",description:"SearchBar_description__yl2HA",sdButton:"SearchBar_sdButton__aw797",sdButtonText:"SearchBar_sdButtonText__R_pul",generateContainer:"SearchBar_generateContainer__zWKxY",searchBar:"SearchBar_searchBar__CHO2R",searchButton:"SearchBar_searchButton__PtIxq",searchButtonText:"SearchBar_searchButtonText__76OEI",examplePromptsContainer:"SearchBar_examplePromptsContainer__bX2De",promptSuggestionsText:"SearchBar_promptSuggestionsText__UoNdW",examplePrompts:"SearchBar_examplePrompts__HyET7",examplePromptButton:"SearchBar_examplePromptButton__xLj_G"}}},function(e){e.O(0,[554,142,888,774,179],function(){return e(e.s=8045)}),_N_E=e.O()}]);